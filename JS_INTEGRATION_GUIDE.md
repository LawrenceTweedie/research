# Интеграция JavaScript анимаций из статической верстки в Nuxt 3

## Что было сделано

### 1. Структура файлов
```
nuxt-app/
├── assets/
│   └── js/
│       ├── main.js                    # Основной файл (пока пустой)
│       └── modules/                   # Модули функциональности
│           ├── header.js              # Работа с хедером
│           ├── charts.js              # Графики и анимации
│           ├── custom-select.js       # Кастомные селекты
│           ├── form-validation.js      # Валидация форм
│           ├── lazy-load-gif.js       # Ленивая загрузка GIF
│           └── anchors.js             # Якорные ссылки
├── plugins/
│   ├── main.client.js                 # Основной плагин инициализации
│   └── vendor.client.js               # Плагин для vendor скриптов
└── public/
    └── js/
        └── vendor.min.js              # Скопированный vendor файл
```

### 2. Настройка nuxt.config.ts
- Добавлены плагины в секцию `plugins`
- Добавлена секция для CSS файлов
- Добавлена возможность подключения vendor скриптов

## Как это работает

### Автоматическая инициализация
Все модули автоматически инициализируются:
- При первой загрузке страницы (`app:mounted`)
- При каждой клиентской навигации (`page:finish`)

### Модули функциональности

#### 1. Хедер (`header.js`)
- Адаптивное меню
- Изменение стиля при скролле
- Закрытие по клику вне и Escape

#### 2. Графики (`charts.js`)
- Анимированные столбчатые диаграммы
- Автоматическое масштабирование
- Форматирование чисел

#### 3. Кастомные селекты (`custom-select.js`)
- Поиск и фильтрация
- Клавиатурная навигация
- Валидация выбора

#### 4. Валидация форм (`form-validation.js`)
- Валидация полей в реальном времени
- Поддержка разных типов полей
- Предотвращение отправки невалидных форм

#### 5. Ленивая загрузка GIF (`lazy-load-gif.js`)
- Загрузка GIF по мере необходимости
- Индикаторы загрузки
- Обработка ошибок

#### 6. Якорные ссылки (`anchors.js`)
- Плавная прокрутка
- Учет высоты хедера
- Поддержка мобильных устройств

## Как использовать

### 1. HTML структура
Используйте те же классы и data-атрибуты, что и в статической верстке:

```html
<!-- Хедер -->
<header class="header">
  <button class="header__menu-btn">Меню</button>
</header>

<!-- Графики -->
<div class="chart">
  <!-- Будет автоматически заполнен JS -->
</div>

<!-- Кастомные селекты -->
<div class="custom-select">
  <div class="custom-select__trigger">
    <input type="text" placeholder="Выберите...">
  </div>
  <div class="custom-select__list">
    <div class="custom-select__item">
      <span class="custom-field__text">Вариант 1</span>
    </div>
  </div>
</div>

<!-- Формы с валидацией -->
<form class="form">
  <input type="text" data-validate="text" data-required>
  <input type="email" data-validate="email" data-required>
  <input type="tel" data-validate="phone" data-required>
  <input type="checkbox" data-validate="checkbox" data-required>
</form>

<!-- Ленивая загрузка GIF -->
<img class="lazy-load-gif" data-src="/path/to/image.gif" alt="">

<!-- Якорные ссылки -->
<a href="#section1" data-anchor="section1">Перейти к секции</a>
<div id="section1">Секция 1</div>
```

### 2. CSS классы
Убедитесь, что в CSS есть все необходимые классы:
- `.header--fit` для хедера при скролле
- `.is-open`, `.is-focused`, `.is-empty` для селектов
- `.not-valid`, `.is-sended` для форм
- `.loading`, `.loaded` для GIF
- `.visually-hidden` для скрытия элементов

### 3. CSS переменные
JS автоматически устанавливает:
- `--vh` - корректный viewport height для мобильных
- `--padding-right` - ширина скроллбара

## Дополнительные возможности

### Vendor скрипты
Если нужно подключить vendor.min.js:
1. Раскомментируйте код в `plugins/vendor.client.js`
2. Добавьте плагин в `nuxt.config.ts`

### Кастомизация
Каждый модуль можно легко настроить:
- Изменить селекторы в начале каждого файла
- Добавить новые обработчики событий
- Модифицировать логику анимаций

### Производительность
- Используется throttling для скролл событий
- RequestAnimationFrame для анимаций
- Ленивая загрузка для изображений

## Отладка
В консоли будет сообщение "Initializing main functionality..." при каждой инициализации.

## Следующие шаги
1. Проверьте работу всех анимаций
2. Адаптируйте CSS классы если нужно
3. Добавьте дополнительные модули по необходимости
4. Настройте валидацию форм под ваши требования